<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.shape.*?>

<VBox alignment="TOP_CENTER" spacing="0" style="-fx-background-color: #f8f9fa;" xmlns="http://javafx.com/javafx/17.0.12" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.aqidashboard.DashboardController">

    <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: #ffffff; -fx-padding: 15 30; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 0);">
        <Label style="-fx-font-size: 24px; -fx-font-weight: 900; -fx-text-fill: #006699;" text="AQI" />
        <TextField fx:id="citySearchField" prefWidth="400" promptText="Search any Location" style="-fx-background-radius: 20; -fx-background-color: #f1f3f4; -fx-padding: 10 20;" />
        <Button onAction="#handleCitySearch" style="-fx-background-radius: 20; -fx-background-color: #e8f0fe; -fx-text-fill: #1a73e8;" text="Search" />
        <Region HBox.hgrow="ALWAYS" />
        <Button onAction="#handleDetectLocation" style="-fx-background-radius: 20; -fx-background-color: white; -fx-border-color: #1a73e8; -fx-border-radius: 20;" text="Locate Me" />
    </HBox>

    <StackPane alignment="CENTER" style="-fx-background-color: linear-gradient(to bottom right, #ffffff, #d7e3f4);" VBox.vgrow="ALWAYS">

        <VBox alignment="CENTER" fillWidth="false">

            <VBox fx:id="mainCard" alignment="CENTER_LEFT" maxWidth="1300" minHeight="380" spacing="10" style="-fx-background-color: rgba(255,255,255,0.85); -fx-background-radius: 30; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.15), 30, 0, 0, 10); -fx-padding: 30 50;">

                <HBox alignment="BOTTOM_LEFT" spacing="15">
                    <Label style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #333;" text="Real-time Air Quality Index (AQI)" />
                    <Label fx:id="cityLabel" style="-fx-font-size: 16px; -fx-text-fill: #006699; -fx-underline: true; -fx-padding: 0 0 4 0;" text="Kochi, India" />
                </HBox>

                <HBox alignment="CENTER_LEFT" spacing="40">

                    <Pane fx:id="gaugePane" prefHeight="260" prefWidth="400">
                        <Arc centerX="200" centerY="200" fill="transparent" length="-30" radiusX="160" radiusY="160" startAngle="180" stroke="#2ecc71" strokeWidth="25" />
                        <Arc centerX="200" centerY="200" fill="transparent" length="-30" radiusX="160" radiusY="160" startAngle="150" stroke="#f1c40f" strokeWidth="25" />
                        <Arc centerX="200" centerY="200" fill="transparent" length="-30" radiusX="160" radiusY="160" startAngle="120" stroke="#e67e22" strokeWidth="25" />
                        <Arc centerX="200" centerY="200" fill="transparent" length="-30" radiusX="160" radiusY="160" startAngle="90" stroke="#d35400" strokeWidth="25" />
                        <Arc centerX="200" centerY="200" fill="transparent" length="-30" radiusX="160" radiusY="160" startAngle="60" stroke="#8e44ad" strokeWidth="25" />
                        <Arc centerX="200" centerY="200" fill="transparent" length="-30" radiusX="160" radiusY="160" startAngle="30" stroke="#c0392b" strokeWidth="25" />

                        <Line fx:id="needle" endX="60" endY="200" startX="200" startY="200" stroke="#333" strokeLineCap="ROUND" strokeWidth="4" />
                        <Circle centerX="200" centerY="200" fill="#333" radius="8" />

                        <VBox alignment="CENTER" layoutX="125" layoutY="210" prefWidth="150">
                            <Label fx:id="aqiLabel" style="-fx-font-size: 55px; -fx-font-weight: 900;" text="138" />
                            <Label style="-fx-font-size: 14px; -fx-text-fill: #888;" text="AQI" />
                        </VBox>
                    </Pane>

                    <VBox alignment="CENTER_LEFT" spacing="25" HBox.hgrow="ALWAYS">

                        <HBox alignment="CENTER_LEFT" spacing="50">
                            <VBox spacing="2" style="-fx-background-color: rgba(255,255,255,0.6); -fx-padding: 10 25; -fx-background-radius: 15;">
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #555;" text="Air Quality is" />
                                <Label fx:id="statusLabel" style="-fx-font-size: 24px; -fx-font-weight: bold;" text="Poor" />
                            </VBox>

                            <VBox alignment="CENTER_LEFT">
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #777;" text="PM2.5" />
                                <Label fx:id="pm25Label" style="-fx-font-size: 20px; -fx-font-weight: bold;" text="52 µg/m³" />
                            </VBox>

                            <VBox alignment="CENTER_LEFT">
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #777;" text="PM10" />
                                <Label fx:id="pm10Label" style="-fx-font-size: 20px; -fx-font-weight: bold;" text="64 µg/m³" />
                            </VBox>
                        </HBox>

                        <Separator />

                        <GridPane hgap="40" vgap="10">
                            <VBox GridPane.columnIndex="0">
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #777;" text="Temperature" />
                                <Label fx:id="tempLabel" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="31°C" />
                            </VBox>

                            <VBox GridPane.columnIndex="1">
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #777;" text="Humidity" />
                                <Label fx:id="humidityLabel" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="59%" />
                            </VBox>

                            <VBox GridPane.columnIndex="2">
                                <Label style="-fx-font-size: 12px; -fx-text-fill: #777;" text="Wind" />
                                <Label fx:id="windLabel" style="-fx-font-size: 16px; -fx-font-weight: bold;" text="13 km/h" />
                            </VBox>
                        </GridPane>
                    </VBox>

                    <VBox alignment="BOTTOM_CENTER" prefWidth="250">
                        <ImageView fx:id="aqiImageView"
                                   fitHeight="250"
                                   fitWidth="220"
                                   preserveRatio="true"
                                   pickOnBounds="true" />
                    </VBox>

                </HBox>

            </VBox>
        </VBox>
    </StackPane>
</VBox>